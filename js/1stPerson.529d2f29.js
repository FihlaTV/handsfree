(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1stPerson"],{"34b6":function(t,e,o){"use strict";o.r(e),o.d(e,"initWorld",(function(){return g})),o.d(e,"endWorld",(function(){return M}));o("a9e3");var n,r,i,a,s,c,d,m,u,l,h,v,w,f,p,b=o("e29f").PointerLockControls,y=window.THREE,g=function(t){var e;d=[],m=performance.now(),u=new y.Vector3,l=new y.Vector3,h=new y.Vector3,v=new y.Color,w=!0,n=document.querySelector("#world"),r=new y.PerspectiveCamera(75,n.clientWidth/window.innerHeight,1,1e3),r.position.y=30,i=new y.Scene,i.background=new y.Color(16777215),i.fog=new y.Fog(16777215,0,750),e=new y.HemisphereLight(15658751,7829384,.75),e.position.set(.5,1,.75),i.add(e),s=new b(r,document.body),i.add(s.getObject()),c=new y.Raycaster(new y.Vector3,new y.Vector3(0,-1,0),0,10);var o=new y.PlaneBufferGeometry(2e3,2e3,100,100);o.rotateX(-Math.PI/2);var g=o.attributes.position;for(f=0,p=g.count;f<p;f++)h.fromBufferAttribute(g,f),h.x+=20*Math.random()-10,h.y+=2*Math.random(),h.z+=20*Math.random()-10,g.setXYZ(f,h.x,h.y,h.z);o=o.toNonIndexed(),g=o.attributes.position;var M=[];for(f=0,p=g.count;f<p;f++)v.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),M.push(v.r,v.g,v.b);o.setAttribute("color",new y.Float32BufferAttribute(M,3));var k=new y.MeshBasicMaterial({vertexColors:y.VertexColors}),C=new y.Mesh(o,k);i.add(C);var L=new y.BoxBufferGeometry(20,20,20);for(L=L.toNonIndexed(),g=L.attributes.position,M=[],f=0,p=g.count;f<p;f++)v.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),M.push(v.r,v.g,v.b);for(L.setAttribute("color",new y.Float32BufferAttribute(M,3)),f=0;f<500;f++){var H=new y.MeshPhongMaterial({specular:16777215,flatShading:!0,vertexColors:y.VertexColors});H.color.setHSL(.2*Math.random()+.5,.75,.25*Math.random()+.75);var j=new y.Mesh(L,H);j.position.x=20*Math.floor(20*Math.random()-10),j.position.y=20*Math.floor(20*Math.random())+10,j.position.z=20*Math.floor(20*Math.random()-10),i.add(j),d.push(j)}a=new y.WebGLRenderer({antialias:!0}),a.setPixelRatio(window.devicePixelRatio),a.setSize(n.clientWidth,window.innerHeight),n.appendChild(a.domElement),window.addEventListener("resize",E,!1),x(t)},E=function(){r.aspect=n.clientWidth/window.innerHeight,r.updateProjectionMatrix(),a.setSize(n.clientWidth,window.innerHeight)},x=function t(e){w&&requestAnimationFrame(t.bind(e,e)),c.ray.origin.copy(s.getObject().position),c.ray.origin.y-=10;var o=c.intersectObjects(d),n=o.length>0,h=performance.now(),v=(h-m)/1e3;u.x-=10*u.x*v,u.z-=10*u.z*v,e.velocity.y-=9.8*100*v,l.z=Number(e.move.forward)-Number(e.move.backward),l.x=Number(e.move.right)-Number(e.move.left),l.normalize(),(e.move.forward||e.move.backward)&&(u.z-=400*l.z*v),(e.move.left||e.move.right)&&(u.x-=400*l.x*v),!0===n&&(e.velocity.y=Math.max(0,e.velocity.y),e.move.jump=!0),s.moveRight(-u.x*v),s.moveForward(-u.z*v),s.getObject().position.y+=e.velocity.y*v,s.getObject().position.y<10&&(e.velocity.y=0,s.getObject().position.y=10,e.move.jump=!0),r.rotation.order="YXZ",s.getObject().rotation.y=e.rotation.y,s.getObject().rotation.x=e.rotation.x,m=h,a.render(i,r)},M=function(){w=!1}},"807f":function(t,e,o){},ab68:function(t,e,o){"use strict";var n=o("807f"),r=o.n(n);r.a},b722:function(t,e,o){"use strict";o.r(e);var n,r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"world"}}),o("v-container",[o("v-row",[o("v-col",{staticClass:"col-12 col-lg-4"},[o("v-card",[o("v-card-title",[t._v("1st Person View")]),o("v-card-text",[o("p",[t._v("This experiment explores the "),o("code",[t._v("handsfree.head.translation")]),t._v(" properties to move the camera based on the direction you lean in.")]),o("ul",[o("li",[t._v("Lean in/back/left/right to move in that direction")]),o("li",[t._v("Turn head around to look around")]),o("li",[t._v("Raise both eyebrows to jump.")])])])],1),o("v-card",{staticClass:"mt-5"},[o("v-card-text",[o("blockquote",{staticClass:"twitter-tweet"},[o("p",{attrs:{lang:"en",dir:"ltr"}},[t._v("Started on last tutorial, which shows how to use head position to move around in 3D by leaning (and using eyebrows to jump)!"),o("br"),o("br"),t._v("Day 9 of "),o("a",{attrs:{href:"https://twitter.com/hashtag/100DaysofCode?src=hash&ref_src=twsrc%5Etfw"}},[t._v("#100DaysofCode")]),t._v(" and "),o("a",{attrs:{href:"https://twitter.com/hashtag/100DaysofMLCode?src=hash&ref_src=twsrc%5Etfw"}},[t._v("#100DaysofMLCode")]),t._v(" "),o("a",{attrs:{href:"https://t.co/4QRABhzFUn"}},[t._v("pic.twitter.com/4QRABhzFUn")])]),t._v("â€” Oz Ramos (@HeyOzRamos) "),o("a",{attrs:{href:"https://twitter.com/HeyOzRamos/status/1194866956991524864?ref_src=twsrc%5Etfw"}},[t._v("November 14, 2019")])])])],1)],1)],1)],1)],1)},i=[],a=o("7920"),s={data:function(){return{move:{forward:!1,backward:!1,left:!1,right:!1,jump:!0},velocity:{y:0},rotation:{x:0,y:0}}},mounted:function(){this.$store.dispatch("loadScripts",["https://platform.twitter.com/widgets.js"]),window.THREE||this.$store.dispatch("loadScripts",["https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.min.js"]),this.initializeGame(),this.setupHandsfree(),window.Handsfree.disable("head.vertScroll")},beforeDestroy:function(){window.Handsfree.enable("head.vertScroll"),window.Handsfree.disable("head.threeCamera"),n()},methods:{setupHandsfree:function(){var t=this;window.Handsfree.use("head.threeCamera",(function(e){var o=e.head,n=.15,r={out:.1,in:.01};o.translation[0]>.5+n?t.move.right=!0:t.move.right=!1,o.translation[0]<.5-n?t.move.left=!0:t.move.left=!1,o.translation[2]>.25+r.out?t.move.forward=!0:t.move.forward=!1,o.translation[2]<.25-r.in?t.move.backward=!0:t.move.backward=!1,o.state.browsUp&&(t.move.jump&&(t.velocity.y+=350),t.move.jump=!1),t.tweenPOV(o)}))},tweenPOV:function(t){a["a"].to(this.rotation,.5,{x:8*-t.rotation[0]+Math.PI/2,y:10*-t.rotation[1],z:2*t.rotation[2],ease:"Linear.easeNone",overwrite:!0,immediate:!0})},initializeGame:function(){var t=this;setTimeout((function(){if(window.THREE){var e=o("34b6"),r=e.initWorld,i=e.endWorld;r(t),n=i}else t.initializeGame()}),100)}}},c=s,d=(o("ab68"),o("2877")),m=o("6544"),u=o.n(m),l=o("b0af"),h=o("99d9"),v=o("62ad"),w=o("a523"),f=o("0fd9"),p=Object(d["a"])(c,r,i,!1,null,"183b7d30",null);e["default"]=p.exports;u()(p,{VCard:l["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:v["a"],VContainer:w["a"],VRow:f["a"]})},e29f:function(t,e,o){"use strict";o.r(e),o.d(e,"PointerLockControls",(function(){return n}));var n=function(t,e){void 0===e&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),e=document.body),this.domElement=e,this.isLocked=!1;var o=this,n={type:"change"},r={type:"lock"},i={type:"unlock"},a=new window.THREE.Euler(0,0,0,"YXZ"),s=Math.PI/2,c=new window.THREE.Vector3;function d(e){if(!1!==o.isLocked){var r=e.movementX||e.mozMovementX||e.webkitMovementX||0,i=e.movementY||e.mozMovementY||e.webkitMovementY||0;a.setFromQuaternion(t.quaternion),a.y-=.002*r,a.x-=.002*i,a.x=Math.max(-s,Math.min(s,a.x)),t.quaternion.setFromEuler(a),o.dispatchEvent(n)}}function m(){document.pointerLockElement===o.domElement?(o.dispatchEvent(r),o.isLocked=!0):(o.dispatchEvent(i),o.isLocked=!1)}function u(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){document.addEventListener("mousemove",d,!1),document.addEventListener("pointerlockchange",m,!1),document.addEventListener("pointerlockerror",u,!1)},this.disconnect=function(){document.removeEventListener("mousemove",d,!1),document.removeEventListener("pointerlockchange",m,!1),document.removeEventListener("pointerlockerror",u,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return t},this.getDirection=function(){var e=new window.THREE.Vector3(0,0,-1);return function(o){return o.copy(e).applyQuaternion(t.quaternion)}}(),this.moveForward=function(e){c.setFromMatrixColumn(t.matrix,0),c.crossVectors(t.up,c),t.position.addScaledVector(c,e)},this.moveRight=function(e){c.setFromMatrixColumn(t.matrix,0),t.position.addScaledVector(c,e)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){document.exitPointerLock()},this.connect()};n.prototype=Object.create(window.THREE.EventDispatcher.prototype),n.prototype.constructor=n}}]);
//# sourceMappingURL=1stPerson.529d2f29.js.map